{"version":3,"sources":["webpack:///./src/pages/docs/3.5.scripts.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-docs-3-5-scripts-mdx-6c19ea759fd57e952146.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vibranium/vibranium/src/components/Layout.jsx\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"scripts\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h1\" {...{\n        \"href\": \"#scripts\",\n        \"aria-label\": \"scripts permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Scripts`}</h1>\n    <p>{`Scripts in Vibranium allow you to execute JavaScript snippets in the life cycle phases of execution. There are two levels of scripts available, at scenarios and at endpoint level. `}</p>\n    <p>{`All the scripts are executed inside and `}<inlineCode parentName=\"p\">{`async`}</inlineCode>{` function, so you can use await and other es6 snippets here.`}</p>\n    <p>{`The life cyle events are slightly different at both levels and the flow can be summarized as:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`before-scenario`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-globals`}</inlineCode></li>\n      <li parentName=\"ul\"></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`before-each`}</inlineCode><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`before-endpoint`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-dependencies`}</inlineCode></li>\n          <li parentName=\"ul\">{`... (endpoint1 execution)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-endpoint`}</inlineCode></li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-each`}</inlineCode></li>\n      <li parentName=\"ul\"></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`before-each`}</inlineCode><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`before-endpoint`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-dependencies`}</inlineCode></li>\n          <li parentName=\"ul\">{`... (endpoint1 execution)`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-endpoint`}</inlineCode></li>\n        </ul></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-each`}</inlineCode></li>\n      <li parentName=\"ul\"></li>\n      <li parentName=\"ul\">{`... (other endpoints)`}</li>\n      <li parentName=\"ul\"></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`after-scenario`}</inlineCode></li>\n    </ul>\n    <p>{`The JS snippets that you can use has a limitation on the available variables and functions. For example, you will not be able to access the `}<inlineCode parentName=\"p\">{`console`}</inlineCode>{` object in these scripts, instead you'll have to use the `}<inlineCode parentName=\"p\">{`logger`}</inlineCode>{` object.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`If you need to run a script from a file, place the file inside the scripts directory and call the `}<inlineCode parentName=\"p\">{`scriptFile`}</inlineCode>{` function with the script fileName. `}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"scenario-level\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#scenario-level\",\n        \"aria-label\": \"scenario level permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Scenario level`}</h2>\n    <h3 {...{\n      \"id\": \"variables-and-functions-available\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#variables-and-functions-available\",\n        \"aria-label\": \"variables and functions available permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Variables and functions available`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`logger`}</inlineCode>{` to print the logs`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setTimeout`}</inlineCode>{` for delayed execution`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setInterval`}</inlineCode>{` for repeated execution`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`fetch`}</inlineCode>{` for making network calls using the `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"\n        }}>{`fetch api`}</a></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`exec`}</inlineCode>{` for executing shell commands. Uses the promisified version of `}<a parentName=\"li\" {...{\n          \"href\": \"https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback\"\n        }}>{`Node exec`}</a>{`. Example:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}>{`const { stdout, stderr } = await exec('ls');\nconsole.log('stdout:', stdout);\nconsole.error('stderr:', stderr);\n`}</code></pre></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`variables`}</inlineCode>{` is an object containing the scenario variables`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`getApiResponse`}</inlineCode>{` is a function with which you can execute other endpoint tests and return the response. Example: `}<inlineCode parentName=\"li\">{`let response = await getApiResponse(collectionName, scenarioName, endpointName)`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`scriptFile`}</inlineCode>{` a function that can be called to load script from a file. The file should be placed inside `}<strong parentName=\"li\">{`scripts`}</strong>{` directory inside your tests directory (along with scenarios, payloads, schemas etc). Note: the file extension should be specified, and the file path should be relative path inside the scripts directory. Usage: `}<inlineCode parentName=\"li\">{`scriptFile('scriptFileToExecute.js')`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"return-structure\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#return-structure\",\n        \"aria-label\": \"return structure permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Return structure`}</h3>\n    <p>{`If you want the data in the script to be used in your endpoint test, you have to expose it as variables. In order to do this, just add a new key to the `}<inlineCode parentName=\"p\">{`variables`}</inlineCode>{` object that you have access to in the script, with the key as the variable name and the value as the variable value, and the in the end of your script, return the variables object.`}</p>\n    <p>{`Example: `}<inlineCode parentName=\"p\">{`\"before-scenario\": \"variables.hello='world'; return variables\"`}</inlineCode></p>\n    <p>{`And then in url/payload, you can use the variable`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"payload\": {\n        \"key\": \"{hello}\"\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"executing-shell-scripts\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#executing-shell-scripts\",\n        \"aria-label\": \"executing shell scripts permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Executing shell scripts`}</h3>\n    <p>{`You can execute shell scripts and get the response from them using the `}<inlineCode parentName=\"p\">{`exec`}</inlineCode>{` function available in the scripts. Uses the promisified version of `}<a parentName=\"p\" {...{\n        \"href\": \"https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback\"\n      }}>{`Node exec`}</a>{`. Example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`const { stdout, stderr } = await exec('npm start');\nconsole.log('stdout:', stdout);\nconsole.error('stderr:', stderr);\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"example\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#example\",\n        \"aria-label\": \"example permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"before-scenario\": \"logger.log('Life cycle Hook: before-scenario')\",\n    \"after-scenario\": \"logger.log('Life cycle Hook: after-scenario')\",\n    \"before-each\": \"logger.log('Life cycle Hook: before-each')\",\n    \"after-each\": \"logger.log('Life cycle Hook: after-each')\",\n    \"after-globals\": \"logger.log('Life cycle Hook: after-globals')\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"endpoint-level\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#endpoint-level\",\n        \"aria-label\": \"endpoint level permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Endpoint level`}</h2>\n    <h3 {...{\n      \"id\": \"variables-and-functions-available-1\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#variables-and-functions-available-1\",\n        \"aria-label\": \"variables and functions available 1 permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Variables and functions available`}</h3>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`logger`}</inlineCode>{` to print the logs`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setTimeout`}</inlineCode>{` for delayed execution`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setInterval`}</inlineCode>{` for repeated execution`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`fetch`}</inlineCode>{` for making network calls using the `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\"\n        }}>{`fetch api`}</a></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`variables`}</inlineCode>{` is an object containing the scenario variables`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`exec`}</inlineCode>{` for executing shell commands. Uses the promisified version of `}<a parentName=\"li\" {...{\n          \"href\": \"https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback\"\n        }}>{`Node exec`}</a>{`. Example:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}>{`const { stdout, stderr } = await exec('ls');\nconsole.log('stdout:', stdout);\nconsole.error('stderr:', stderr);\n`}</code></pre></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`getApiResponse`}</inlineCode>{` is a function with which you can execute other endpoint tests and return the response. Example: `}<inlineCode parentName=\"li\">{`let response = await getApiResponse(collectionName, scenarioName, endpointName)`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`api`}</inlineCode>{` the endpoint test object, if you need to modify the payload.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`scriptFile`}</inlineCode>{` a function that can be called to load script from a file. The file should be placed inside `}<strong parentName=\"li\">{`scripts`}</strong>{` directory inside your tests directory (along with scenarios, payloads, schemas etc). Note: the file extension should be specified, and the file path should be relative path inside the scripts directory. Usage: `}<inlineCode parentName=\"li\">{`scriptFile('scriptFileToExecute.js')`}</inlineCode></li>\n    </ul>\n    <h3 {...{\n      \"id\": \"return-structure-1\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#return-structure-1\",\n        \"aria-label\": \"return structure 1 permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Return structure`}</h3>\n    <p>{`The return structure for endpoint scripts is slightly different from that of scenario. The response for endpoint scripts contains both the api and the variables. Incase you don't update any of them, you can omit them in the return response.`}</p>\n    <p>{`Response: `}<inlineCode parentName=\"p\">{`{ api, variables }`}</inlineCode></p>\n    <p>{`Example: `}<inlineCode parentName=\"p\">{`\"before-scenario\": \"variables.hello='world'; return { variables }\"`}</inlineCode></p>\n    <p>{`And then in url/payload, you can use the variable`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"payload\": {\n        \"key\": \"{hello}\"\n    }\n}\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"example-1\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#example-1\",\n        \"aria-label\": \"example 1 permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"before-endpoint\": \"logger.log('Lifecycle Hook: before-endpoint')\",\n    \"after-endpoint\": \"logger.log('Lifecycle Hook: after-endpoint')\",\n    \"after-dependencies\": \"logger.log('Lifecycle Hook: after-dependencies')\"\n}\n`}</code></pre>\n    <blockquote>\n      <p parentName=\"blockquote\">{`[IMPORTANT]`}{` please note that the return object structure is different for scenario scripts and for endpoint scripts. In scenario, it is just the variables object and in endpoint, it is both variables and api. If you skip returning values, the changes you make inside the script will be ignored, `}</p>\n    </blockquote>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}